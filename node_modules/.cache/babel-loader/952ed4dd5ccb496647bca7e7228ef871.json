{"ast":null,"code":"import _slicedToArray from\"D:/.vscode/react-pizza-v2/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";/* eslint-disable */import React from'react';import styles from'./Search.module.scss';import searchIcon from'../../assets/img/search.svg';import clearIcon from'../../assets/img/close.svg';import debounce from'lodash.debounce';import{useDispatch}from'react-redux';import{setSearchValue}from'../../redux/Slices/filter/slice';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Search=function Search(){var dispatch=useDispatch();var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),value=_React$useState2[0],setValue=_React$useState2[1];var inputRef=React.useRef(null);var onClickClear=function onClickClear(){var _inputRef$current;dispatch(setSearchValue(''));setValue('');(_inputRef$current=inputRef.current)===null||_inputRef$current===void 0?void 0:_inputRef$current.focus();};var updateSearchValue=React.useCallback(debounce(function(str){dispatch(setSearchValue(str));},10),[]);var onChangeInput=function onChangeInput(event){setValue(event.target.value);updateSearchValue(event.target.value);};return/*#__PURE__*/_jsxs(\"div\",{className:styles.root,children:[/*#__PURE__*/_jsx(\"img\",{className:styles.icon,width:\"38\",src:searchIcon,alt:\"search\"}),/*#__PURE__*/_jsx(\"input\",{ref:inputRef,value:value,onChange:onChangeInput,className:styles.input,placeholder:\"\\u043F\\u043E\\u0438\\u0441\\u043A \\u043F\\u0438\\u0446\\u0446\\u044B...\"}),value&&/*#__PURE__*/_jsx(\"img\",{onClick:onClickClear,className:styles.clearIcon,width:\"38\",src:clearIcon,alt:\"close\"})]});};export default Search;","map":{"version":3,"names":["React","styles","searchIcon","clearIcon","debounce","useDispatch","setSearchValue","Search","dispatch","useState","value","setValue","inputRef","useRef","onClickClear","current","focus","updateSearchValue","useCallback","str","onChangeInput","event","target","root","icon","input"],"sources":["D:/.vscode/react-pizza-v2/src/components/Search/Search.tsx"],"sourcesContent":["/* eslint-disable */\r\nimport React from 'react';\r\nimport styles from './Search.module.scss';\r\nimport searchIcon from '../../assets/img/search.svg';\r\nimport clearIcon from '../../assets/img/close.svg';\r\nimport debounce from 'lodash.debounce';\r\nimport { useDispatch } from 'react-redux';\r\nimport {setSearchValue} from '../../redux/Slices/filter/slice'\r\n\r\nexport const Search: React.FC = () => {\r\n  const dispatch = useDispatch();\r\n  const [value, setValue] = React.useState<string>('');\r\n  const inputRef = React.useRef<HTMLInputElement>(null);\r\n\r\n  const onClickClear = () => {\r\n    dispatch(setSearchValue(''));\r\n    setValue('');\r\n    inputRef.current?.focus();\r\n  };\r\n\r\n  const updateSearchValue = React.useCallback(\r\n    debounce((str: string) => {\r\n      dispatch(setSearchValue(str));\r\n    }, 10),\r\n    [],\r\n  );\r\n\r\n  const onChangeInput = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    setValue(event.target.value);\r\n    updateSearchValue(event.target.value);\r\n  };\r\n  return (\r\n\r\n    <div className={styles.root}>\r\n      <img className={styles.icon} width=\"38\" src={searchIcon} alt=\"search\" />\r\n      <input\r\n        ref={inputRef}\r\n        value={value} \r\n        onChange={onChangeInput}\r\n        className={styles.input}\r\n        placeholder=\"поиск пиццы...\"\r\n      />\r\n      {value && (\r\n        <img\r\n          onClick={onClickClear}\r\n          className={styles.clearIcon}\r\n          width=\"38\"\r\n          src={clearIcon}\r\n          alt=\"close\"\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n\r\n}\r\n\r\nexport default Search;\r\n"],"mappings":"+GAAA,oBACA,MAAOA,MAAP,KAAkB,OAAlB,CACA,MAAOC,OAAP,KAAmB,sBAAnB,CACA,MAAOC,WAAP,KAAuB,6BAAvB,CACA,MAAOC,UAAP,KAAsB,4BAAtB,CACA,MAAOC,SAAP,KAAqB,iBAArB,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OAAQC,cAAR,KAA6B,iCAA7B,C,wFAEA,MAAO,IAAMC,OAAgB,CAAG,QAAnBA,OAAmB,EAAM,CACpC,GAAMC,SAAQ,CAAGH,WAAW,EAA5B,CACA,oBAA0BL,KAAK,CAACS,QAAN,CAAuB,EAAvB,CAA1B,oDAAOC,KAAP,qBAAcC,QAAd,qBACA,GAAMC,SAAQ,CAAGZ,KAAK,CAACa,MAAN,CAA+B,IAA/B,CAAjB,CAEA,GAAMC,aAAY,CAAG,QAAfA,aAAe,EAAM,uBACzBN,QAAQ,CAACF,cAAc,CAAC,EAAD,CAAf,CAAR,CACAK,QAAQ,CAAC,EAAD,CAAR,CACA,mBAAAC,QAAQ,CAACG,OAAT,8DAAkBC,KAAlB,GACD,CAJD,CAMA,GAAMC,kBAAiB,CAAGjB,KAAK,CAACkB,WAAN,CACxBd,QAAQ,CAAC,SAACe,GAAD,CAAiB,CACxBX,QAAQ,CAACF,cAAc,CAACa,GAAD,CAAf,CAAR,CACD,CAFO,CAEL,EAFK,CADgB,CAIxB,EAJwB,CAA1B,CAOA,GAAMC,cAAa,CAAG,QAAhBA,cAAgB,CAACC,KAAD,CAAgD,CACpEV,QAAQ,CAACU,KAAK,CAACC,MAAN,CAAaZ,KAAd,CAAR,CACAO,iBAAiB,CAACI,KAAK,CAACC,MAAN,CAAaZ,KAAd,CAAjB,CACD,CAHD,CAIA,mBAEE,aAAK,SAAS,CAAET,MAAM,CAACsB,IAAvB,wBACE,YAAK,SAAS,CAAEtB,MAAM,CAACuB,IAAvB,CAA6B,KAAK,CAAC,IAAnC,CAAwC,GAAG,CAAEtB,UAA7C,CAAyD,GAAG,CAAC,QAA7D,EADF,cAEE,cACE,GAAG,CAAEU,QADP,CAEE,KAAK,CAAEF,KAFT,CAGE,QAAQ,CAAEU,aAHZ,CAIE,SAAS,CAAEnB,MAAM,CAACwB,KAJpB,CAKE,WAAW,CAAC,kEALd,EAFF,CASGf,KAAK,eACJ,YACE,OAAO,CAAEI,YADX,CAEE,SAAS,CAAEb,MAAM,CAACE,SAFpB,CAGE,KAAK,CAAC,IAHR,CAIE,GAAG,CAAEA,SAJP,CAKE,GAAG,CAAC,OALN,EAVJ,GAFF,CAuBD,CA7CM,CA+CP,cAAeI,OAAf"},"metadata":{},"sourceType":"module"}