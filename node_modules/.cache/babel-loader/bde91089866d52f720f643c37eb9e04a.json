{"ast":null,"code":"import _regeneratorRuntime from\"D:/.vscode/react-pizza-v2/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/.vscode/react-pizza-v2/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{createSlice,createAsyncThunk}from'@reduxjs/toolkit';import axios from'axios';import{Status}from'./types';var initialState={items:[],status:Status.LOADING};export var fetchPizzas=createAsyncThunk('pizza/fetchPizzasStatus',/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(params){var order,sortBy,category,search,currentPage,_yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:order=params.order,sortBy=params.sortBy,category=params.category,search=params.search,currentPage=params.currentPage;_context.next=3;return axios.get(\"https://62c2a193876c4700f5296273.mockapi.io/items?page=\".concat(currentPage,\"&limit=8&\").concat(category,\"&sortBy=\").concat(sortBy,\"&order=\").concat(order).concat(search));case 3:_yield$axios$get=_context.sent;data=_yield$axios$get.data;return _context.abrupt(\"return\",data);case 6:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());var PizzaSlice=createSlice({name:'pizza',initialState:initialState,reducers:{setItems:function setItems(state,action){state.items=action.payload;}},extraReducers:function extraReducers(builder){builder.addCase(fetchPizzas.pending,function(state){state.status=Status.LOADING;state.items=[];});builder.addCase(fetchPizzas.fulfilled,function(state,action){state.items=action.payload;state.status=Status.SUCCESS;});builder.addCase(fetchPizzas.rejected,function(state){state.status=Status.ERROR;state.items=[];});}});var setItems=PizzaSlice.actions.setItems;export{setItems};export default PizzaSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","Status","initialState","items","status","LOADING","fetchPizzas","params","order","sortBy","category","search","currentPage","get","data","PizzaSlice","name","reducers","setItems","state","action","payload","extraReducers","builder","addCase","pending","fulfilled","SUCCESS","rejected","ERROR","actions","reducer"],"sources":["D:/.vscode/react-pizza-v2/src/redux/Slices/pizza/slice.ts"],"sourcesContent":["import { createSlice, createAsyncThunk, PayloadAction  } from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\nimport { Pizza, PizzaSliceState, Status } from './types';\r\n\r\n\r\n\r\n\r\nconst initialState: PizzaSliceState = {\r\n  items: [],\r\n  status: Status.LOADING,\r\n};\r\n\r\nexport type SearchPizzasParams = {\r\n  order: string, \r\n  sortBy: string, \r\n  category: string, \r\n  search: string,\r\n  currentPage: string, \r\n\r\n}\r\n\r\nexport const fetchPizzas = createAsyncThunk<Pizza[], SearchPizzasParams>(\r\n  'pizza/fetchPizzasStatus', \r\n  async (params) => {\r\n    const { order, sortBy, category, search, currentPage } = params;\r\n    const { data } = await axios.get(\r\n      `https://62c2a193876c4700f5296273.mockapi.io/items?page=${currentPage}&limit=8&${category}&sortBy=${sortBy}&order=${order}${search}`,\r\n    );\r\n    return data ;\r\n  });\r\nconst PizzaSlice = createSlice({\r\n  name: 'pizza',\r\n  initialState,\r\n  reducers: {\r\n    setItems(state, action: PayloadAction<Pizza[]>) {\r\n      state.items = action.payload;\r\n    },\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder.addCase(fetchPizzas.pending, (state) => {\r\n          state.status = Status.LOADING;\r\n          state.items = [];\r\n        });\r\n        builder.addCase(fetchPizzas.fulfilled, (state, action) => {\r\n          state.items = action.payload;\r\n          state.status = Status.SUCCESS;\r\n        });\r\n        builder.addCase(fetchPizzas.rejected, (state) => {\r\n          state.status = Status.ERROR;\r\n          state.items = [];\r\n        })\r\n  }\r\n\r\n});\r\n\r\n\r\nexport const { setItems } = PizzaSlice.actions;\r\n\r\nexport default PizzaSlice.reducer;\r\n"],"mappings":"8OAAA,OAASA,WAAT,CAAsBC,gBAAtB,KAA8D,kBAA9D,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAAiCC,MAAjC,KAA+C,SAA/C,CAKA,GAAMC,aAA6B,CAAG,CACpCC,KAAK,CAAE,EAD6B,CAEpCC,MAAM,CAAEH,MAAM,CAACI,OAFqB,CAAtC,CAcA,MAAO,IAAMC,YAAW,CAAGP,gBAAgB,CACzC,yBADyC,4FAEzC,iBAAOQ,MAAP,uLACUC,KADV,CAC2DD,MAD3D,CACUC,KADV,CACiBC,MADjB,CAC2DF,MAD3D,CACiBE,MADjB,CACyBC,QADzB,CAC2DH,MAD3D,CACyBG,QADzB,CACmCC,MADnC,CAC2DJ,MAD3D,CACmCI,MADnC,CAC2CC,WAD3C,CAC2DL,MAD3D,CAC2CK,WAD3C,uBAEyBZ,MAAK,CAACa,GAAN,kEACqCD,WADrC,qBAC4DF,QAD5D,oBAC+ED,MAD/E,mBAC+FD,KAD/F,SACuGG,MADvG,EAFzB,uCAEUG,IAFV,kBAEUA,IAFV,iCAKSA,IALT,wDAFyC,+DAApC,CASP,GAAMC,WAAU,CAAGjB,WAAW,CAAC,CAC7BkB,IAAI,CAAE,OADuB,CAE7Bd,YAAY,CAAZA,YAF6B,CAG7Be,QAAQ,CAAE,CACRC,QADQ,mBACCC,KADD,CACQC,MADR,CACwC,CAC9CD,KAAK,CAAChB,KAAN,CAAciB,MAAM,CAACC,OAArB,CACD,CAHO,CAHmB,CAQ7BC,aAAa,CAAE,uBAACC,OAAD,CAAa,CAC1BA,OAAO,CAACC,OAAR,CAAgBlB,WAAW,CAACmB,OAA5B,CAAqC,SAACN,KAAD,CAAW,CAC1CA,KAAK,CAACf,MAAN,CAAeH,MAAM,CAACI,OAAtB,CACAc,KAAK,CAAChB,KAAN,CAAc,EAAd,CACD,CAHL,EAIIoB,OAAO,CAACC,OAAR,CAAgBlB,WAAW,CAACoB,SAA5B,CAAuC,SAACP,KAAD,CAAQC,MAAR,CAAmB,CACxDD,KAAK,CAAChB,KAAN,CAAciB,MAAM,CAACC,OAArB,CACAF,KAAK,CAACf,MAAN,CAAeH,MAAM,CAAC0B,OAAtB,CACD,CAHD,EAIAJ,OAAO,CAACC,OAAR,CAAgBlB,WAAW,CAACsB,QAA5B,CAAsC,SAACT,KAAD,CAAW,CAC/CA,KAAK,CAACf,MAAN,CAAeH,MAAM,CAAC4B,KAAtB,CACAV,KAAK,CAAChB,KAAN,CAAc,EAAd,CACD,CAHD,EAIL,CArB4B,CAAD,CAA9B,CA0BO,GAAQe,SAAR,CAAqBH,UAAU,CAACe,OAAhC,CAAQZ,QAAR,C,iBAEP,cAAeH,WAAU,CAACgB,OAA1B"},"metadata":{},"sourceType":"module"}