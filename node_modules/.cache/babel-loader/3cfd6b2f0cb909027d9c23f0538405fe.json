{"ast":null,"code":"import _objectSpread from\"D:/.vscode/react-pizza-v2/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{createSlice}from'@reduxjs/toolkit';import{calcTotalPrice}from'../../../utils/calcTotalPrice';import{getCatrFromLS}from'../../../utils/getCatrFromLS';var _getCatrFromLS=getCatrFromLS(),items=_getCatrFromLS.items,totalPrica=_getCatrFromLS.totalPrica;var initialState={totalPrica:totalPrica,items:items};var cartSlice=createSlice({name:'cart',initialState:initialState,reducers:{addItem:function addItem(state,action){var findItem=state.items.find(function(obj){return obj.id===action.payload.id;});if(findItem){findItem.count++;}else{state.items.push(_objectSpread(_objectSpread({},action.payload),{},{count:1}));}state.totalPrica=calcTotalPrice(state.items);},minusItem:function minusItem(state,action){var findItem=state.items.find(function(obj){return obj.id===action.payload;});if(findItem){findItem.count--;}},removeItem:function removeItem(state,action){state.items=state.items.filter(function(obj){return obj.id!==action.payload;});},clearItems:function clearItems(state){state.items=[];state.totalPrica=0;}}});var _cartSlice$actions=cartSlice.actions,addItem=_cartSlice$actions.addItem,removeItem=_cartSlice$actions.removeItem,clearItems=_cartSlice$actions.clearItems,minusItem=_cartSlice$actions.minusItem;export{addItem,removeItem,clearItems,minusItem};export default cartSlice.reducer;","map":{"version":3,"names":["createSlice","calcTotalPrice","getCatrFromLS","items","totalPrica","initialState","cartSlice","name","reducers","addItem","state","action","findItem","find","obj","id","payload","count","push","minusItem","removeItem","filter","clearItems","actions","reducer"],"sources":["D:/.vscode/react-pizza-v2/src/redux/Slices/cart/slice.ts"],"sourcesContent":["import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\nimport { calcTotalPrice } from '../../../utils/calcTotalPrice';\r\nimport { getCatrFromLS } from '../../../utils/getCatrFromLS';\r\nimport { CartItem, cartSliceState } from './types';\r\n\r\n\r\n\r\n\r\nconst { items, totalPrica } = getCatrFromLS();\r\n\r\nconst initialState: cartSliceState = {\r\n  totalPrica: totalPrica,\r\n  items: items,\r\n};\r\n\r\nconst cartSlice = createSlice({\r\n  name: 'cart',\r\n  initialState,\r\n  reducers: {\r\n    addItem(state, action: PayloadAction<CartItem>) {\r\n      const findItem = state.items.find((obj) => obj.id === action.payload.id);\r\n\r\n      if (findItem) {\r\n        findItem.count++;\r\n      } else {\r\n        state.items.push({\r\n          ...action.payload,\r\n          count: 1,\r\n        });\r\n      }\r\n      state.totalPrica = calcTotalPrice(state.items);\r\n    },\r\n    minusItem(state, action: PayloadAction<string>) {\r\n      const findItem = state.items.find((obj) => obj.id === action.payload);\r\n\r\n      if (findItem) {\r\n        findItem.count--;\r\n      }\r\n    },\r\n    removeItem(state, action: PayloadAction<string>) {\r\n      state.items = state.items.filter((obj) => obj.id !== action.payload);\r\n    },\r\n    clearItems(state) {\r\n      state.items = [];\r\n      state.totalPrica = 0;\r\n    },\r\n  },\r\n});\r\n\r\n\r\n\r\nexport const { addItem, removeItem, clearItems, minusItem } = cartSlice.actions;\r\n\r\nexport default cartSlice.reducer;\r\n"],"mappings":"8GAAA,OAASA,WAAT,KAA2C,kBAA3C,CACA,OAASC,cAAT,KAA+B,+BAA/B,CACA,OAASC,aAAT,KAA8B,8BAA9B,CAMA,mBAA8BA,aAAa,EAA3C,CAAQC,KAAR,gBAAQA,KAAR,CAAeC,UAAf,gBAAeA,UAAf,CAEA,GAAMC,aAA4B,CAAG,CACnCD,UAAU,CAAEA,UADuB,CAEnCD,KAAK,CAAEA,KAF4B,CAArC,CAKA,GAAMG,UAAS,CAAGN,WAAW,CAAC,CAC5BO,IAAI,CAAE,MADsB,CAE5BF,YAAY,CAAZA,YAF4B,CAG5BG,QAAQ,CAAE,CACRC,OADQ,kBACAC,KADA,CACOC,MADP,CACwC,CAC9C,GAAMC,SAAQ,CAAGF,KAAK,CAACP,KAAN,CAAYU,IAAZ,CAAiB,SAACC,GAAD,QAASA,IAAG,CAACC,EAAJ,GAAWJ,MAAM,CAACK,OAAP,CAAeD,EAAnC,EAAjB,CAAjB,CAEA,GAAIH,QAAJ,CAAc,CACZA,QAAQ,CAACK,KAAT,GACD,CAFD,IAEO,CACLP,KAAK,CAACP,KAAN,CAAYe,IAAZ,gCACKP,MAAM,CAACK,OADZ,MAEEC,KAAK,CAAE,CAFT,IAID,CACDP,KAAK,CAACN,UAAN,CAAmBH,cAAc,CAACS,KAAK,CAACP,KAAP,CAAjC,CACD,CAbO,CAcRgB,SAdQ,oBAcET,KAdF,CAcSC,MAdT,CAcwC,CAC9C,GAAMC,SAAQ,CAAGF,KAAK,CAACP,KAAN,CAAYU,IAAZ,CAAiB,SAACC,GAAD,QAASA,IAAG,CAACC,EAAJ,GAAWJ,MAAM,CAACK,OAA3B,EAAjB,CAAjB,CAEA,GAAIJ,QAAJ,CAAc,CACZA,QAAQ,CAACK,KAAT,GACD,CACF,CApBO,CAqBRG,UArBQ,qBAqBGV,KArBH,CAqBUC,MArBV,CAqByC,CAC/CD,KAAK,CAACP,KAAN,CAAcO,KAAK,CAACP,KAAN,CAAYkB,MAAZ,CAAmB,SAACP,GAAD,QAASA,IAAG,CAACC,EAAJ,GAAWJ,MAAM,CAACK,OAA3B,EAAnB,CAAd,CACD,CAvBO,CAwBRM,UAxBQ,qBAwBGZ,KAxBH,CAwBU,CAChBA,KAAK,CAACP,KAAN,CAAc,EAAd,CACAO,KAAK,CAACN,UAAN,CAAmB,CAAnB,CACD,CA3BO,CAHkB,CAAD,CAA7B,CAoCO,uBAAuDE,SAAS,CAACiB,OAAjE,CAAQd,OAAR,oBAAQA,OAAR,CAAiBW,UAAjB,oBAAiBA,UAAjB,CAA6BE,UAA7B,oBAA6BA,UAA7B,CAAyCH,SAAzC,oBAAyCA,SAAzC,C,gDAEP,cAAeb,UAAS,CAACkB,OAAzB"},"metadata":{},"sourceType":"module"}