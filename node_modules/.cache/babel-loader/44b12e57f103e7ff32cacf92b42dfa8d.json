{"ast":null,"code":"import { getTargetElement } from '../utils/domTarget';\n\nvar checkIfAllInShadow = function checkIfAllInShadow(targets) {\n  return targets.every(function (item) {\n    var targetElement = getTargetElement(item);\n    if (!targetElement) return false;\n    if (targetElement.getRootNode() instanceof ShadowRoot) return true;\n  });\n};\n\nvar getShadow = function getShadow(node) {\n  if (!node) {\n    return document;\n  }\n\n  return node.getRootNode();\n};\n\nvar getDocumentOrShadow = function getDocumentOrShadow(target) {\n  if (!target || !document.getRootNode) {\n    return document;\n  }\n\n  var targets = Array.isArray(target) ? target : [target];\n\n  if (checkIfAllInShadow(targets)) {\n    return getShadow(getTargetElement(targets[0]));\n  }\n\n  return document;\n};\n\nexport default getDocumentOrShadow;","map":{"version":3,"names":["getTargetElement","checkIfAllInShadow","targets","every","item","targetElement","getRootNode","ShadowRoot","getShadow","node","document","getDocumentOrShadow","target","Array","isArray"],"sources":["D:/.vscode/react-pizza-v2/node_modules/ahooks/es/utils/getDocumentOrShadow.js"],"sourcesContent":["import { getTargetElement } from '../utils/domTarget';\n\nvar checkIfAllInShadow = function checkIfAllInShadow(targets) {\n  return targets.every(function (item) {\n    var targetElement = getTargetElement(item);\n    if (!targetElement) return false;\n    if (targetElement.getRootNode() instanceof ShadowRoot) return true;\n  });\n};\n\nvar getShadow = function getShadow(node) {\n  if (!node) {\n    return document;\n  }\n\n  return node.getRootNode();\n};\n\nvar getDocumentOrShadow = function getDocumentOrShadow(target) {\n  if (!target || !document.getRootNode) {\n    return document;\n  }\n\n  var targets = Array.isArray(target) ? target : [target];\n\n  if (checkIfAllInShadow(targets)) {\n    return getShadow(getTargetElement(targets[0]));\n  }\n\n  return document;\n};\n\nexport default getDocumentOrShadow;"],"mappings":"AAAA,SAASA,gBAAT,QAAiC,oBAAjC;;AAEA,IAAIC,kBAAkB,GAAG,SAASA,kBAAT,CAA4BC,OAA5B,EAAqC;EAC5D,OAAOA,OAAO,CAACC,KAAR,CAAc,UAAUC,IAAV,EAAgB;IACnC,IAAIC,aAAa,GAAGL,gBAAgB,CAACI,IAAD,CAApC;IACA,IAAI,CAACC,aAAL,EAAoB,OAAO,KAAP;IACpB,IAAIA,aAAa,CAACC,WAAd,cAAuCC,UAA3C,EAAuD,OAAO,IAAP;EACxD,CAJM,CAAP;AAKD,CAND;;AAQA,IAAIC,SAAS,GAAG,SAASA,SAAT,CAAmBC,IAAnB,EAAyB;EACvC,IAAI,CAACA,IAAL,EAAW;IACT,OAAOC,QAAP;EACD;;EAED,OAAOD,IAAI,CAACH,WAAL,EAAP;AACD,CAND;;AAQA,IAAIK,mBAAmB,GAAG,SAASA,mBAAT,CAA6BC,MAA7B,EAAqC;EAC7D,IAAI,CAACA,MAAD,IAAW,CAACF,QAAQ,CAACJ,WAAzB,EAAsC;IACpC,OAAOI,QAAP;EACD;;EAED,IAAIR,OAAO,GAAGW,KAAK,CAACC,OAAN,CAAcF,MAAd,IAAwBA,MAAxB,GAAiC,CAACA,MAAD,CAA/C;;EAEA,IAAIX,kBAAkB,CAACC,OAAD,CAAtB,EAAiC;IAC/B,OAAOM,SAAS,CAACR,gBAAgB,CAACE,OAAO,CAAC,CAAD,CAAR,CAAjB,CAAhB;EACD;;EAED,OAAOQ,QAAP;AACD,CAZD;;AAcA,eAAeC,mBAAf"},"metadata":{},"sourceType":"module"}